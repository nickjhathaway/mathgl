<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head>	<meta http-equiv="content-type" content="text/html; charset=utf8">	<title>MathGL - MGL scripts</title>	<script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script></head><body><table style="width: 100%;" cellspacing="10"><tr><td style="width: 125px;"><a href="index.html"><img style="border: 0px solid ; width: 100px; height: 50px;" src="../emblem_sm.png"></a></td><td colspan="5"><h1 style="text-align: left;">MathGL &ndash; библиотека для научной графики</h1><hr style="width: 100%; height: 2px;"><div align="right"><small><a href="../en/scripts.html">English</a> <b>Russian</b> <a href="../fr/scripts.html">French</a></small></div></td></tr><tr><td rowspan="9" style="vertical-align: top; width: 125px;"><p><a href="news.html"><b>Новости</b></a></p><p><a href="features.html"><b>Возможности</b></a></p><p><a href="pictures.html"><b>Иллюстрации</b></a></p><h2>Скрипты MGL</h2><p><a href="download.html"><b>Загрузка</b></a></p><p><a href="docs.html"><b>Документация</b></a></p><p><a href="contacts.html"><b>Контакты</b></a></p><p><a href="projects.html"><b>Другие проекты</b></a></p><hr style="width: 100%; height: 1px;"><g:plusone></g:plusone><p><table style="background-color: #fff; padding: 5px;" cellspacing=0>  <tr><td>  <img src="http://groups.google.com/intl/en/images/logos/groups_logo_sm.gif"         height=25 width=117 alt="Google Groups">  </td></tr>  <tr><td style="padding-left: 5px;font-size: 110%">  <b>MathGL</b>  </td></tr>  <tr><td style="padding-left: 5px">  <a href="http://groups.google.com/group/mathgl">Visit this group</a>  </td></tr></table></p><form action="http://www.google.com/cse" id="cse-search-box" target="_blank">  <div>    <input type="hidden" name="cx" value="partner-pub-1128070552722622:gql9apmekrk" />    <input type="hidden" name="ie" value="UTF-8" />    <input type="text" name="q" size="12" />    <input type="submit" name="sa" value="Search" />  </div></form><script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script><hr style="width: 100%; height: 1px;"><script type="text/javascript"><!--google_ad_client = "pub-1128070552722622";/* 120x90, создано 02.11.10 */google_ad_slot = "4468748434";google_ad_width = 120;google_ad_height = 90;//--></script><script type="text/javascript"src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script><p></p><!--LiveInternet counter--><script type="text/javascript"><!--document.write("<a href='http://www.liveinternet.ru/click' "+"target=_blank><img src='http://counter.yadro.ru/hit?t12.2;r"+escape(document.referrer)+((typeof(screen)=="undefined")?"":";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+";"+Math.random()+"' alt='' title='LiveInternet: number of views during 24"+" hours, number of visitors during 24 hours and during today' "+"border=0 width=88 height=31><\/a>")//--></script><!--/LiveInternet--><a href="http://sourceforge.net"><img src="http://sflogo.sourceforge.net/sflogo.php?group_id=152187&amp;type=2" alt="SourceForge.net Logo" border="0" height="37" width="125"></a> <a href="http://www.thefreecountry.com/"> <img src="http://www.thefreecountry.com/images/tfc88x31green.gif" alt="thefreecountry.com: Free Programmers' Resources, Free Webmasters' Resources, Free Security Resources, Free Software" border="0" height="31" width="88"></a> <a href="http://sourceforge.net/donate/index.php?group_id=152187"><img src="http://images.sourceforge.net/images/project-support.jpg" width="88" height="32" border="0" alt="Support This Project" /> </a></td></tr><tr><td colspan="4" style="vertical-align: top;"><p>MathGL имеет встроенный скриптовый язык MGL для обработки и отображения данных. Скрипты MGL можно использовать как независимо (программами UDAV, mgl2png, mgl2eps, mgl2svg и пр., так и вызовами библиотеки. </p><p>Язык MGL достаточно простой. Каждая строка &ndash; отдельная команда. Первое слово &ndash; имя команды, а все остальные ее аргументы. Команда может иметь до 1000 аргументов (по крайней мере сейчас). Слова разделяются одно от другого пробелом или символом табуляции. Различий между верхним и нижним индексом нет, т.е. переменные <var>a</var> и <var>A</var> идентичны. Символ &lsquo;<samp>#</samp>&rsquo; начинает комментарий &ndash; все символы после него игнорируются до конца строки. Исключением является случай, когда &lsquo;<samp>#</samp>&rsquo; входит в строку. Опции команды указываются после символа &lsquo;<samp>;</samp>&rsquo;. Символ &lsquo;<samp>:</samp>&rsquo; начинает новую команду (подобно переводу строки) если он расположен не внутри скобок или строки. </p><p>Если строка содержит ссылки на внешние параметры (&lsquo;<samp>$0</samp>&rsquo;, &lsquo;<samp>$1</samp>&rsquo; ... &lsquo;<samp>$9</samp>&rsquo;) или макроопределения (&lsquo;<samp>$a</samp>&rsquo;, &lsquo;<samp>$b</samp>&rsquo; ... &lsquo;<samp>$z</samp>&rsquo;), то текущие значения параметров/макроопределений подставляются в строку вместо ссылки до выполнением команды. Это позволяет использовать один и тот же скрипт при различных входных параметрах командной строки или вводить макроопределения по ходу исполнения команд скрипта. </p><p>Аргументы команды могут быть строками, переменными или числами. </p><ul>	<li> Строка &ndash; произвольный набор символов между метками &lsquo;<samp>'</samp>&rsquo;. </li>	<li> Обычно переменная имеет имя, состоящее из букв и чисел (должно начинаться с буквы и не быть длиннее 64 символов). В качестве переменной можно использовать временные массивы, включающие в себя: <ul><li> срезы (&ldquo;подмассивы&rdquo;) массивов данных (подобно команде <code>subdata</code>). Например, <code>a(1)</code> или <code>a(1,:)</code> или <code>a(1,:,:)</code> &ndash; вторая строка массива <var>a</var>, <code>a(:,2)</code> или <code>a(:,2,:)</code> &ndash; третий столбец, <code>a(:,:,0)</code> &ndash; первый срез и т.д. Также можно выделить часть массива с m-го по n-ый элемент <code>a(m:n,:,:)</code> или просто <code>a(m:n)</code>. </li><li> произвольные комбинации столбцов данных (например, <code>a('n*w^2/exp(t)')</code>), если столбцы данных были именованы командой <code>idset</code> или в файле данных (в строке начинающейся с <code>##</code>). </li><li> произвольное выражение из существующих переменных и констант. Например, &lsquo;<samp>sqrt(dat(:,5)+1)</samp>&rsquo; даст временный массив данных с элементами равными <code>tmp[i,j] = sqrt(dat[i,5,j]+1)</code>. </li><li> массивы с элементами заданными в квадратных скобках [], разделенные &lsquo;<samp>,</samp>&rsquo;. При этом внутри выражения не должно быть пробелов! Например, &lsquo;<samp>[1,2,3]</samp>&rsquo; даст временный массив из 3 элементов {1, 2, 3}; &lsquo;<samp>[[11,12],[21,22]]</samp>&rsquo; даст матрицу 2*2 и т.д. Элементами такой конструкции могут быть и массивы если их размерности одинаковые, например &lsquo;<samp>[v1,v2,...,vn]</samp>&rsquo;.</li><li> результат команд построения новых данных, если они заключены в фигурные скобки {}. Например, &lsquo;<samp>{sum dat 'x'}</samp>&rsquo; даст временный массив, который есть результат суммирования <var>dat</var> вдоль &rsquo;x&rsquo;. Это такой же массив как и <var>tmp</var>, полученный командой &lsquo;<samp>sum tmp dat 'x'</samp>&rsquo;. При этом можно использовать вложенные конструкции, например &lsquo;<samp>{sum {max dat 'z'} 'x'}</samp>&rsquo;. </li></ul>	<p>Временные массивы не могут стоять в качестве первого аргумента команд, создающих массивы (например, &lsquo;<samp>new</samp>&rsquo;, &lsquo;<samp>read</samp>&rsquo;, &lsquo;<samp>hist</samp>&rsquo; и т.д.). </p></li>	<li> К скалярным переменным, кроме собственно чисел, относятся: специальные переменные <code>nan=#QNAN, pi=3.1415926..., on=1, off=0, :=-1</code>, переменные с суффиксами, переменные определенные командой <code>define</code>. Также массивы размером 1x1x1 считаются скалярами (например, &lsquo;<samp>pi/dat.nx</samp>&rsquo;). </li></ul><p>Перед первым использованием все переменные должны быть определены с помощью команд, создающих массивы (<code>new</code>, <code>var</code>, <code>list</code>, <code>copy</code>, <code>read</code>, <code>hist</code>, <code>sum</code> и др. </p><p>Команды могут иметь несколько наборов аргументов (например, <code>plot ydat</code> и <code>plot xdat ydat</code>). Все аргументы команды для выбранного набора должны быть указаны, однако часть из них могут иметь значения по умолчанию. Такие аргументы в описании команд будут помещены в квадратные скобки [], например <code>plot ydat ['stl'='' zval=nan]</code>. При этом запись <code>[arg1 arg2 arg3 ...]</code> подразумевает <code>[arg1 [arg2 [arg3 ...]]]</code>, т.е. опускать можно только аргументы с конца, если вы согласны с их значениями по умолчанию. Например, <code>plot ydat '' 1</code> или <code>plot ydat ''</code> правильно, а <code>plot ydat 1</code> не правильно (аргумент <code>'stl'</code> пропущен).</p><p>Подробное описание языка MGL можно найти <a href="../mathgl_ru/mathgl_ru_62.html">здесь</a>). Примеры и советы по использованию можно найти <a href="../mgl_en/mgl_en_2.html">здесь</a>.</p></td><td rowspan="10"><script type="text/javascript"><!--google_ad_client = "ca-pub-1128070552722622";/* 160x600, создано 02.11.10 */google_ad_slot = "8142802163";google_ad_width = 160;google_ad_height = 600;//--></script><script type="text/javascript"src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></td></tr><tr><td colspan="4" style="vertical-align: top;"><script type="text/javascript"><!--google_ad_client = "pub-1128070552722622";/* 728x90, создано 23.12.09 */google_ad_slot = "9958083480";google_ad_width = 728;google_ad_height = 90;//--></script><script type="text/javascript"src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></td> </tr></table></body></html>